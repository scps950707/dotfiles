function extract
{
  if [ -z "$1" ]; then
    # display usage if no parameters given
    echo "Usage: extract [archive name] [folder PATH]"
  else
    if [ -f $1 ] ; then
      prevDir=${PWD}
      if [ -z "$2" ]; then
        archive=$1
      else
        mkdir -p $2 && cd $2
        archive=$prevDir/$1
      fi
      case $1 in
        *.tar.bz2)   tar xvjf    $archive    ;;
        *.tar.gz)    tar xvzf    $archive    ;;
        *.tar.xz)    tar xvJf    $archive    ;;
        *.lzma)      unlzma      $archive    ;;
        *.bz2)       bunzip2     $archive    ;;
        *.rar)       unrar x -ad $archive    ;;
        *.gz)        gunzip      $archive    ;;
        *.tar)       tar xvf     $archive    ;;
        *.tbz2)      tar xvjf    $archive    ;;
        *.tgz)       tar xvzf    $archive    ;;
        *.zip)       unzip       $archive    ;;
        *.Z)         uncompress  $archive    ;;
        *.7z)        7z x        $archive    ;;
        *.xz)        unxz        $archive    ;;
        *)           echo "extract: '$1' - unknown archive method" ;;
      esac
      # go back to previous directory
      if ! [ -z "$2" ]; then
        cd $prevDir
      fi
    else
      echo "$1 - file does not exist"
    fi
fi
}
